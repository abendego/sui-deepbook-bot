{
  "version": 3,
  "sources": ["../../../../src/contracts/deepbook/order.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n/**\n * Order module defines the order struct and its methods. All order matching\n * happens in this module.\n */\n\nimport { MoveStruct, normalizeMoveArguments } from '../utils/index.js';\nimport type { RawTransactionArgument } from '../utils/index.js';\nimport { bcs } from '@mysten/sui/bcs';\nimport type { Transaction } from '@mysten/sui/transactions';\nimport * as deep_price from './deep_price.js';\nconst $moduleName = '@deepbook/core::order';\nexport const Order = new MoveStruct({\n\tname: `${$moduleName}::Order`,\n\tfields: {\n\t\tbalance_manager_id: bcs.Address,\n\t\torder_id: bcs.u128(),\n\t\tclient_order_id: bcs.u64(),\n\t\tquantity: bcs.u64(),\n\t\tfilled_quantity: bcs.u64(),\n\t\tfee_is_deep: bcs.bool(),\n\t\torder_deep_price: deep_price.OrderDeepPrice,\n\t\tepoch: bcs.u64(),\n\t\tstatus: bcs.u8(),\n\t\texpire_timestamp: bcs.u64(),\n\t},\n});\nexport const OrderCanceled = new MoveStruct({\n\tname: `${$moduleName}::OrderCanceled`,\n\tfields: {\n\t\tbalance_manager_id: bcs.Address,\n\t\tpool_id: bcs.Address,\n\t\torder_id: bcs.u128(),\n\t\tclient_order_id: bcs.u64(),\n\t\ttrader: bcs.Address,\n\t\tprice: bcs.u64(),\n\t\tis_bid: bcs.bool(),\n\t\toriginal_quantity: bcs.u64(),\n\t\tbase_asset_quantity_canceled: bcs.u64(),\n\t\ttimestamp: bcs.u64(),\n\t},\n});\nexport const OrderModified = new MoveStruct({\n\tname: `${$moduleName}::OrderModified`,\n\tfields: {\n\t\tbalance_manager_id: bcs.Address,\n\t\tpool_id: bcs.Address,\n\t\torder_id: bcs.u128(),\n\t\tclient_order_id: bcs.u64(),\n\t\ttrader: bcs.Address,\n\t\tprice: bcs.u64(),\n\t\tis_bid: bcs.bool(),\n\t\tprevious_quantity: bcs.u64(),\n\t\tfilled_quantity: bcs.u64(),\n\t\tnew_quantity: bcs.u64(),\n\t\ttimestamp: bcs.u64(),\n\t},\n});\nexport interface BalanceManagerIdArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface BalanceManagerIdOptions {\n\tpackage?: string;\n\targuments: BalanceManagerIdArguments | [self: RawTransactionArgument<string>];\n}\nexport function balanceManagerId(options: BalanceManagerIdOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'balance_manager_id',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface OrderIdArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface OrderIdOptions {\n\tpackage?: string;\n\targuments: OrderIdArguments | [self: RawTransactionArgument<string>];\n}\nexport function orderId(options: OrderIdOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'order_id',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface ClientOrderIdArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface ClientOrderIdOptions {\n\tpackage?: string;\n\targuments: ClientOrderIdArguments | [self: RawTransactionArgument<string>];\n}\nexport function clientOrderId(options: ClientOrderIdOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'client_order_id',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface QuantityArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface QuantityOptions {\n\tpackage?: string;\n\targuments: QuantityArguments | [self: RawTransactionArgument<string>];\n}\nexport function quantity(options: QuantityOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'quantity',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface FilledQuantityArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface FilledQuantityOptions {\n\tpackage?: string;\n\targuments: FilledQuantityArguments | [self: RawTransactionArgument<string>];\n}\nexport function filledQuantity(options: FilledQuantityOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'filled_quantity',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface FeeIsDeepArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface FeeIsDeepOptions {\n\tpackage?: string;\n\targuments: FeeIsDeepArguments | [self: RawTransactionArgument<string>];\n}\nexport function feeIsDeep(options: FeeIsDeepOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'fee_is_deep',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface OrderDeepPriceArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface OrderDeepPriceOptions {\n\tpackage?: string;\n\targuments: OrderDeepPriceArguments | [self: RawTransactionArgument<string>];\n}\nexport function orderDeepPrice(options: OrderDeepPriceOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'order_deep_price',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface EpochArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface EpochOptions {\n\tpackage?: string;\n\targuments: EpochArguments | [self: RawTransactionArgument<string>];\n}\nexport function epoch(options: EpochOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'epoch',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface StatusArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface StatusOptions {\n\tpackage?: string;\n\targuments: StatusArguments | [self: RawTransactionArgument<string>];\n}\nexport function status(options: StatusOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'status',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface ExpireTimestampArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface ExpireTimestampOptions {\n\tpackage?: string;\n\targuments: ExpireTimestampArguments | [self: RawTransactionArgument<string>];\n}\nexport function expireTimestamp(options: ExpireTimestampOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'expire_timestamp',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\nexport interface PriceArguments {\n\tself: RawTransactionArgument<string>;\n}\nexport interface PriceOptions {\n\tpackage?: string;\n\targuments: PriceArguments | [self: RawTransactionArgument<string>];\n}\nexport function price(options: PriceOptions) {\n\tconst packageAddress = options.package ?? '@deepbook/core';\n\tconst argumentsTypes = [`${packageAddress}::order::Order`] satisfies string[];\n\tconst parameterNames = ['self'];\n\treturn (tx: Transaction) =>\n\t\ttx.moveCall({\n\t\t\tpackage: packageAddress,\n\t\t\tmodule: 'order',\n\t\t\tfunction: 'price',\n\t\t\targuments: normalizeMoveArguments(options.arguments, argumentsTypes, parameterNames),\n\t\t});\n}\n"],
  "mappings": "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",
  "names": []
}
